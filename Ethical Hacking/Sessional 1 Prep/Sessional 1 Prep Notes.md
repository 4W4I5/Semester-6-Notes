| Chapter                                                           | Status             |
| ----------------------------------------------------------------- | ------------------ |
| Lecture 0 - Introduction to Ethical Hacking                       | :white_check_mark: |
| Lecture 1 - Reconnaissance-1                                      | :x:                |
| Lecture 2 - Reconnaissance-2 (Social Sources)                     | :x:                |
| Lecture 3 - Reconnaissance-3 (Countermeasures)                    | :x:                |
| Lecture 4 - Network Scanning-1                                    | :x:                |
| Lecture 5 - Network Scanning-2 (Types of scanning)                | :x:                |
| Lecture 6 - Network Scanning-3 (Fingerprinting & Banner Grabbing) | :x:                |
| Lecture 7 - Enumeration                                           | :white_check_mark: |
| Lecture 8 - Scapy                                                 | :white_check_mark: |

<!--
:white_check_mark:
:x:
-->

# Lecture 0 - Introduction to EHCP
- What is EHCP
	- Identify vulns to ensure system security
	- Done via simulating techniques used by attackers to verify existence of exploitable vulns in the system
- Scope
	- Crucial component of risk assessment, auditing, counter fraud and information security best practices
	- Identify risks and highlight remedial actions
- Limitations
	- Vendors generally do not know if they need such a service
	- EH's can only help the organization if they are willing to better understand their security system
- Key ethics
	- Authorized Access: Obtain proper authorization before conducting any security testing or penetration testing as unauthorized access to systems or networks is illegal and unethical.
	- Purpose & Scope: Ethical hacking should be conducted solely for legitimate and lawful purposes, such as identifying and addressing security vulnerabilities. It should not involve any malicious intent, personal gain, or illegal activities.
	- Informed Consent: Consent should be obtained in writing, clearly outlining the scope, objectives, and limitations of the engagement.
	- Confidentiality: Ethical hackers should respect the confidentiality of any sensitive information they encounter during their testing
	- Legal Compliance: Comply with applicable laws, regulations, and contractual obligations
	- Responsible Disclosure: Promptly reporting the vulnerabilities to the relevant parties and giving them sufficient time to address the issues
	- Continuous Learning & Professionalism Maintain professionalism, integrity, and a commitment to their ethical responsibilities
- PECA
	- PECA, enacted in 2016, regulates cyber activities in Pakistan.
	- It targets cybercrimes like hacking, unauthorized data access, and online harassment.
	- PECA establishes Cybercrime Reporting Centers (CRCs) for investigations.
	- Law enforcement agencies are empowered to prosecute cyber offenders.
	- The law ensures preservation of electronic evidence and international cooperation.
	- Critics raise concerns about potential infringements on freedom of expression.
	- Proposed amendments seek to address these concerns and enhance effectiveness.
# Lecture 1 - Reconnaissance-1
- Recon
	- Set of processes and techniques
		- Footprinting, Collect information about a target network
			- Data gathered can include Security Policies, Network Infrastructure, Employee Contact details, Host information
			- Passive
				- Without direct interaction, for e.g. packet sniffing
			- Active
				- Direct interaction, scanning for directories, enumeration of IP addresses
		- Scanning
		- Enumeration
	- During Recon an EH attempts to gather as much info as possible
- Why Recon
	- Network info
		- Domain Names both internal and external, IP addresses, TCP/UDP services
	- OS Info
		- Users, LDAP servers, Remote servers, Routing Tables & SNMP (Dont believe this belongs here)
		- Banner grabbing
			- Gain information about a computer system, what ports are running and what services are using those ports
		- Organization Information
			- Organization Websites
			- Company Directories
			- Employee Details
			- Location Details
			- Addresses/Phone Numbers
			- Comments in HTML Source code
			- Security Policies Deployed
			- Web server links
	- Starting point
		- Search engines
			- Google Dorking
				- site: - This command restricts the search results to a specific domain or website. For example, "site:example.com" will only show results from the domain example.com.
				- intitle: - This command searches for specific words or phrases in the title of web pages. For example, "intitle:login page" will return pages with "login page" in their title.
				- inurl: - This command searches for specific words or phrases in the URL of web pages. For example, "inurl:admin" will return pages with "admin" in their URL.
				- filetype: - This command restricts the search results to specific file types. For example, "filetype:pdf" will return only PDF files.
				- intext: - This command searches for specific words or phrases within the text of web pages. For example, "intext:password" will return pages containing the word "password" in their content.
				- related: - This command finds websites related to a specified website. For example, "related:example.com" will return websites related to example.com.
				- cache: - This command displays the cached version of a website as indexed by Google. For example, "cache:example.com" will show the cached version of example.com.
				- link: - This command finds pages that link to a specific URL. For example, "link:example.com" will return pages that link to example.com.
				- Example (mod.gov.pk)
					- Get the registry dump of
						- site:mod.gov.pk
					- Get the admin login page
						- site:mod.gov.pk inurl:wp-admin.php
					- Password policy doc
						- site:mod.gov.pk doc:passwordpolicy
		- WhoIS
			- Domain name info (IP address, Owner, Expiration)
		- Ping DNS servers
			- PING
			- NSLOOKUP
		- Check Email links
		- Use OSINT framework
	-
# Lecture 2 - Reconnaissance-2 (Social Sources)
- Social Sources
- Financial Sources
- Competitive Analysis
- Social Engineering
- Email Tracking
- Tools
# Lecture 3 - Reconnaissance-3 (Countermeasures)
- Recon Countermeasures
- Recon Workflow
# Lecture 4 - Network Scanning-1
- Scanning
- Types, move to lec 5
- Goals
- Techniques
- Tools
# Lecture 5 - Network Scanning-2 (Types of scanning)
- Uh add stuff from lec 4 here
# Lecture 6 - Network Scanning-3 (Fingerprinting & Banner Grabbing)
- OS Fingerprinting
- Banner Grabbing
- Countermeasures
# Lecture 7 - Enumeration
- What is enumeration
	- Involves an attacker creating active connections with a target and performing directed queries to gain more information
	- Use extracted information to identify points for a system attack + use password attacks to gain unauthorized access to information system resources
	- Conducted in an intranet environment
	- Data sources enumerated usually are
		- Network resources
		- Network share
		- Routing Tables
		- Audit and service settings
		- SNMP & FQDN details
		- Machine names
		- Users & Groups
		- Application & Banners
- Enumeration Techniques
	- Zone Transfers: Replicate DNS data across multiple DNS servers/backup.
	- SMTP: Internal commands i.e. VRFY confirms the names of valid users + EXPN reveals the actual address and lists mailing lists
	- Remote Procedure Call (RPC): Allows windows processes to communicate with one another in a client-server model
	- Global Catalog Server: Provides a searchable catalog of all objects in every domain in a multidomain AD-DS
	- NetBIOS: Enables applications on different computers to communicate with each other over LAN
	- LDAP: Used to access Directory Listings within an AD, generally a social engineering vector
	- Server Message Block (SMB): User/Application that is authorized can access files/resources on a remote server
- Hinder Enumeration
	- Change defaults i.e. settings, passwords, configs, properties, etc
	- Sysinternals shows who has what access to directories, file and registry keys
- Enumeration Countermeasures
	- SNMP
		- Upgrade to SNMP v3.
		- Implement Group policies especially for anon connections
		- Ensure read-write authorization is disabled
		- Change default strings
	- DNS
		- Disable zone transfers to untrusted hosts
		- Avoid SE attacks via standard network admin contacts
	- SMTP
		- Ignore mails from unknown recipients
		- Disable Open Relay
		- Limit number of accepted connections to hinder brute-force
	- LDAP
		- Use LDAP/S
		- Use authentication methods such as NTLM
	- SMB
		- Disable on web and dns servers
		- Disable TCP 139, 445
		- Restrict anon users
	- NFS
		- Proper perms
		- Block NFS port 2049
		- Log requests to system files on NFS server
		- Enable root_squash in /etc/exports
	- FTP
		- Use SFTP or FTPS
		- Disable anon ftp accounts
		- Restrict access to FTP server by IP
# Lecture 8 - Scapy
- Scapy
	- **Definition**
		- Interactive packet manipulation python program
	- **Capabilities**
		- Forge/Decode packets from a wide number of protocols
		- Send crafted packets, Layering, Capture, Match requests and replies
		- Can easily handle scanning, tracerouting, probing, unit tests and attacks
	- **Protocols**
		- Defined via RFC(Request for Comments)
		- Includes TCP/UDP, IP, FTP, HTTP, SMTP, etc
		- **IP**
			- Min Packet size
				- 21 bytes (20 for header and 1 for TCP data)
			- Max Packet size
				- 65535 Bytes
			- Header (20 Bytes of overhead for TCP header and then another 20 for IP overhead)
				- Row 1
					- 4 bits for version
					- 4 for header len
					- 8 for service
					- 16 for packet length
				- Row 2
					- 16 for identifier
					- 3 for flags
					- 13 for frag offset
				- Row 3
					- 8 for TTL
					- 8 for upper layer protocol
					- 16 for checksum
				- Row 4
					- 32 for src IP
				- Row 5
					- 32 for dest IP
				- Row 6
					- Variable length of bits for Options + Padding
				- Row 7
					- TCP/UDP payload
			- Max Transmission Unit
				- Length of largest frame sent over a link
				- if larger than MTU
					- Packet is fragmented
			- IPv4 Fragmentation
				- Components
					- ID, random for each og full size packet. kept the same for fragmented packets from original
					- Flags, first bit is reserved. other two are Dont Frag and More Frag flags
						- DF = 1, packet will be dropped if over MTU
						- MF = 1, more fragments, 0 if not
							- Last frag MF is set to 0 others are 1
					- Frag Offset
						- work in octets (base 8)
			- IPv6 doesn't have fragmentation
				- Causes complexity at the router
				- can also be used to DOS
		- **TCP**
			- Min Packet size
				- 20 bytes
			- Max Packet size
				- 60 Bytes
			- Row 1
			    - 16 bits for src port
			    - 16 bits for dest port
			- Row 2
			    - 32 bits for Sequence number
			- Row 3
				- 32 bits for Acknowledgement Number
			- Row 4
				- 4 bits for Header length
				- 6 bits are reserved
				- 6 bits for flags
					- PUSH: App informs that data should be pushed up the stack in the receiving app
			        - URGENT: Transmit everything right now, used for remote interrupts
			        - ACK: acknowledge
			        - RESET: Abort connection
			        - FIN: Close connection
			        - SYN: Sync
				- 16 bits for Window size i.e. number of bytes the receiver is willing to accept
			- Row 5
				- 16 bits for checksum
				- 16 bits for Urgent
			- Row 6
				- Variable length of bits for Options + Padding
			- Row 7
				- Payload
		- **UDP**
			- Min header size
				- 8 bytes
			- Max header size
				- theoretically 655355
			- Row 1
				- 16 bits for src port
				- 16 bits for dest port
			- Row 2
				- 16 bits for Header Length
				- 16 bits for checksum
			- Row 3
				- Payload
		- **ICMP**
			- Min Packet size
				- 8 bytes
			- Max Packet size
			    - 576 Bytes
			- Row 1
			    - 8 bits for Type
			    - 8 bits for Code
				- 16 bits for Checksum
			- Row 2
				- Variable length of bits for Data (depends on Type and Code)
		- **MAC Frame**
			- Min Frame size
				- 64 bytes
			- Max Frame size
		        - 1518 bytes (excluding preamble and frame check sequence)
		    - Frame Structure
			    - Preamble
			    - Start Delimiter (EtherPeek captures the rest from here on out till FCS)
		        - 48 bits for Destination MAC Address
		        - 48 bits for Source MAC Address
			    - 16 bits for EtherType or Length (depending on Ethernet version)
				    - For IPv4= 0x0800
				    - For IPv6= 0x86DD
			    - Variable length of bits for Payload (46-1500 bytes)
				- 32 bits for Frame Check Sequence (FCS) / CRC (Cyclic Redundancy Check)
				- (Optional) FCS/Error Checking
				- End Delimiter